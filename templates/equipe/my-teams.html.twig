{% extends 'base.html.twig' %}
{% block title %}My Teams{% endblock %}

{% block body %}
<div class="my-teams-page">



    <h1>My Teams</h1>

    <!-- STATS -->
    <section class="stats">
        <div class="stat-card">
            <span>ğŸ‘¥</span>
            <h3>{{ totalTeams }}</h3>
            <p>Total Teams</p>
        </div>

        <div class="stat-card">
            <span>ğŸ‘‘</span>
            <h3>{{ ownedTeams|length }}</h3>
            <p>Teams Owned</p>
        </div>

        <div class="stat-card">
            <span>ğŸ®</span>
            <h3>{{ joinedTeams|length }}</h3>
            <p>Teams Joined</p>
        </div>

        <div class="stat-card">
            <span>ğŸ†</span>
            <h3>{{ globalWinRate }}%</h3>
            <p>Global Win Rate</p>
        </div>
    </section>

    <!-- OWNER TEAMS -->
    <section class="team-section">
        <h2>Teams I Lead</h2>

        <div class="teams-grid">
            {% for team in ownedTeams %}
                <a href="{{ path('app_equipe_dashboard', {id: team.id}) }}" class="team-card leader">
                    <div class="team-top">
                        <span class="badge">Owner</span>
                    </div>
                    <h3>{{ team.nom }}</h3>
                    <p>{{ team.members|length }} Members</p>
                </a>
            {% else %}
                <p>No teams created yet.</p>
            {% endfor %}
        </div>
    </section>

    <!-- MEMBER TEAMS -->
    <section class="team-section">
        <h2>Teams I Play In</h2>

        <div class="teams-grid">
            {% for team in joinedTeams %}
                <a href="{{ path('app_equipe_dashboard', {id: team.id}) }}" class="team-card">
                    <div class="team-top">
                        <span class="badge player">Member</span>
                    </div>
                    <h3>{{ team.nom }}</h3>
                    <p>{{ team.members|length }} Members</p>
                </a>
            {% else %}
                <p>No joined teams.</p>
            {% endfor %}
        </div>
    </section>

</div>
{% endblock %}

