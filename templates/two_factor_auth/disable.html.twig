{% extends 'base.html.twig' %}

{% block body %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
@keyframes fadeUp {
    from {opacity:0; transform:translateY(40px);}
    to {opacity:1; transform:translateY(0);}
}

body{
    background: linear-gradient(90deg,#b8325b,#0b4fa3);
}

.main-wrapper{
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    padding:50px 0;
}

.register-box{
    width:500px;
    background:white;
    border-radius:6px;
    padding:40px;
    box-shadow:0 0 30px rgba(0,0,0,.3);
    animation:fadeUp .8s ease;
}

h2{
    font-weight:600;
    margin-bottom:30px;
    text-align:center;
    color:#dc3545;
}

.form-control{
    border:none;
    border-bottom:1px solid #aaa;
    border-radius:0;
    transition:.3s;
}

.form-control:focus{
    box-shadow:none;
    border-color:#635bff;
    padding-left:8px;
}

.btn-danger{
    background:linear-gradient(90deg,#dc3545,#c82333);
    border:none;
    padding:12px 30px;
    border-radius:4px;
    transition:.4s;
    width:100%;
}

.btn-danger:hover{
    transform:translateY(-2px);
    box-shadow:0 10px 20px rgba(220,53,69,.4);
}

.btn-secondary{
    background:#6c757d;
    border:none;
    padding:12px 30px;
    border-radius:4px;
    transition:.4s;
    width:100%;
    color:white;
    text-decoration:none;
    display:block;
    text-align:center;
}

.btn-secondary:hover{
    background:#5a6268;
}

.alert{
    font-size:13px;
    animation:fadeUp .6s ease;
}
</style>

<div class="main-wrapper">

<div class="register-box">

    <h2>Disable Two-Factor Authentication</h2>

    {% for message in app.flashes('success') %}
        <div class="alert alert-success">{{ message }}</div>
    {% endfor %}

    {% for message in app.flashes('error') %}
        <div class="alert alert-danger">{{ message }}</div>
    {% endfor %}

    <p class="text-center mb-4">Are you sure you want to disable two-factor authentication? Your account will be less secure.</p>

    <form method="post">
        
        <div class="mb-3">
            <label for="password" class="form-label">Enter your password to confirm</label>
            <input type="password" 
                   name="password" 
                   id="password"
                   class="form-control" 
                   placeholder="Password"
                   required 
                   autofocus>
        </div>

        <button type="submit" class="btn btn-danger mb-3">Disable 2FA</button>
        
        <a href="{{ path('app_home') }}" class="btn-secondary">Cancel</a>

    </form>

</div>

</div>

{% endblock %}
